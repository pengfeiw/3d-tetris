(this["webpackJsonp3d-tetris"]=this["webpackJsonp3d-tetris"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(8),i=n.n(r),c=n(13),s=n(15),o=10,l=20,u=function(){for(var e=[],t=-5;t<=5;t++)e.push(10*t,100,0),e.push(10*t,-100,0);for(var n=-10;n<=10;n++)e.push(-50,10*n,0),e.push(50,10*n,0);return e}(),h=[-5,-5,10,5,-5,10,5,5,10,5,5,10,-5,5,10,-5,-5,10,-5,-5,0,-5,5,0,5,5,0,5,5,0,5,-5,0,-5,-5,0,-5,5,0,-5,-5,0,-5,-5,10,-5,-5,10,-5,5,10,-5,5,0,5,5,0,5,5,10,5,-5,10,5,-5,10,5,-5,0,5,5,0,-5,-5,10,-5,-5,0,5,-5,0,5,-5,0,5,-5,10,-5,-5,10,-5,5,10,5,5,10,5,5,0,5,5,0,-5,5,0,-5,5,10],f=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],d=function(){for(var e=Math.random(),t=Math.random(),n=Math.random(),a=[],r=0;r<h.length/3;r++)a.push(e,t,n);return a},v=n(26),b=n(27),j=function(e,t,n){var a=e.createShader(t);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw"colud not compile shader: "+e.getShaderInfoLog(a);return a},m=function(){function e(t,n,a){Object(v.a)(this,e),this.gl=void 0,this.program=void 0,this.gl=t;var r=j(t,t.VERTEX_SHADER,n),i=j(t,t.FRAGMENT_SHADER,a);this.program=function(e,t,n){var a=e.createProgram();if(e.attachShader(a,t),e.attachShader(a,n),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw"colud not link shader: "+e.getProgramInfoLog(a);return e.deleteShader(t),e.deleteShader(n),a}(t,r,i)}return Object(b.a)(e,[{key:"useProgram",value:function(){this.gl.useProgram(this.program)}},{key:"setFloat",value:function(e,t){var n=this.gl.getUniformLocation(this.program,e);this.gl.uniform1f(n,t)}},{key:"setFloat2",value:function(e,t,n){var a=this.gl.getUniformLocation(this.program,e);this.gl.uniform2f(a,t,n)}},{key:"setFloat3",value:function(e,t,n,a){var r=this.gl.getUniformLocation(this.program,e);this.gl.uniform3f(r,t,n,a)}},{key:"setFloat4",value:function(e,t,n,a,r){var i=this.gl.getUniformLocation(this.program,e);this.gl.uniform4f(i,t,n,a,r)}},{key:"setMat3",value:function(e,t){var n=this.gl.getUniformLocation(this.program,e);this.gl.uniformMatrix3fv(n,!1,t)}},{key:"setMat4",value:function(e,t){var n=this.gl.getUniformLocation(this.program,e);this.gl.uniformMatrix4fv(n,!1,t)}}]),e}(),g={cellDatas:[],activeShape:null,activeShapePos:{x:0,y:0},lightColor:[1,1,1],lightDirection:[0,.8,-2],settledCubeColor:[.92,.15,.02],activeCubeColor:[1,1,1]},O={distance:200,rotateX:40},p=function(){return s.b.lookAt(s.b.create(),[0,0,O.distance+100],[0,0,0],[0,1,0])},x=function(){return s.b.rotate(s.b.create(),s.b.create(),s.a.toRadian(O.rotateX),[-1,0,0])},N=function(e,t,n,a,r){var i=new m(e,"#version 300 es\n    in vec4 a_position; // \u7acb\u65b9\u4f53\u9876\u70b9\u6570\u636e\n    in vec3 a_color;\n    in vec3 a_normal; // \u7acb\u65b9\u4f53\u6cd5\u5411\u91cf\n\n    uniform mat4 u_projection;\n    uniform mat4 u_model;\n    uniform mat4 u_view;\n\n    out vec3 v_color;\n    out vec3 v_normal;\n\n    void main() {\n        gl_Position = u_projection * u_view * u_model * a_position;\n        v_color = a_color;\n        v_normal = mat3(u_model) * a_normal;\n    }\n","#version 300 es\n    precision highp float;\n\n    out vec4 FragColor;\n\n    uniform vec3 u_lightDirectionReverse; // \u5149\u7167\u7684\u9006\u5411\u91cf\n    uniform vec3 u_lightColor; // \u5149\u7167\u989c\u8272\n\n    in vec3 v_color; // \u7acb\u65b9\u4f53\u989c\u8272\n    in vec3 v_normal; // \u6cd5\u5411\u91cf\n\n    void main() {\n        vec3 normal = normalize(v_normal);\n        vec3 lightDirectionReverse = normalize(u_lightDirectionReverse);\n        float light = dot(normal, lightDirectionReverse);\n\n        FragColor = vec4(v_color * u_lightColor, 1.0);\n        FragColor.rgb *= light;\n    }\n");i.useProgram();var c=e.createBuffer(),o=e.getAttribLocation(i.program,"a_position");e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,new Float32Array(h),e.STATIC_DRAW),e.vertexAttribPointer(o,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o);var l=e.createBuffer(),u=e.getAttribLocation(i.program,"a_normal");e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array(f),e.STATIC_DRAW),e.vertexAttribPointer(u,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(u);var v=s.b.perspective(s.b.create(),.25*Math.PI,e.canvas.width/e.canvas.height,.1,1e3);i.setMat4("u_view",new Float32Array(p())),i.setMat4("u_projection",new Float32Array(v)),i.setFloat3("u_lightColor",n[0],n[1],n[2]),i.setFloat3("u_lightDirectionReverse",-a[0],-a[1],-a[2]);for(var b=0;b<t.length;b++)for(var j=t[b],g=0;g<j.length;g++){if(1===j[g]){var O=e.createBuffer(),N=e.getAttribLocation(i.program,"a_color");if(e.bindBuffer(e.ARRAY_BUFFER,O),r){for(var S=[],A=0;A<h.length/3;A++)S.push(r[0],r[1],r[2]);e.bufferData(e.ARRAY_BUFFER,new Float32Array(S),e.STATIC_DRAW)}else e.bufferData(e.ARRAY_BUFFER,new Float32Array(d()),e.STATIC_DRAW);e.vertexAttribPointer(N,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(N);var R=s.b.translate(s.b.create(),x(),[10*(g-4.5),10*(b-9.5),0]);i.setMat4("u_model",new Float32Array(R)),e.drawArrays(e.TRIANGLES,0,36)}}},S=function e(t){if(t.viewport(0,0,t.canvas.width,t.canvas.height),t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),t.clearColor(.19,.22,.25,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),function(e){var t=new m(e,"#version 300 es\n    in vec4 a_position;\n\n    uniform vec3 u_color;\n    uniform mat4 u_projection;\n    uniform mat4 u_model;\n    uniform mat4 u_view;\n\n    out vec3 v_color;\n\n    void main() {\n        gl_Position = u_projection * u_view * u_model * a_position;\n        v_color = u_color;\n    }\n","#version 300 es\n    precision highp float;\n    out vec4 FragColor;\n\n    in vec3 v_color;\n\n    void main() {\n        FragColor = vec4(v_color, 1.0);\n    }\n");t.useProgram();var n=e.createBuffer(),a=e.getAttribLocation(t.program,"a_position");e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.vertexAttribPointer(a,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),t.setFloat3("u_color",1,1,1);var r=s.b.perspective(s.b.create(),.25*Math.PI,e.canvas.width/e.canvas.height,.1,1e3);t.setMat4("u_model",new Float32Array(x())),t.setMat4("u_projection",new Float32Array(r)),t.setMat4("u_view",new Float32Array(p())),e.drawArrays(e.LINES,0,u.length/3)}(t),N(t,g.cellDatas,g.lightColor,g.lightDirection,g.settledCubeColor),g.activeShape){for(var n=[],a=0;a<24;a++){for(var r=[],i=0;i<o;i++)r.push(0);n.push(r)}for(var c=g.activeShape.data,l=g.activeShapePos,h=l.y+3;h>=l.y;h--)for(var f=l.x;f<l.x+4;f++)h>=0&&f>=0&&(n[h][f]=0===(32768&c)?0:1),c<<=1;N(t,n,g.lightColor,g.lightDirection,g.activeCubeColor)}window.requestAnimationFrame((function(){e(t)}))},A=function(){function e(t){Object(v.a)(this,e),this.datas=void 0,this.shapeIndex=0,this.datas=t,this.shapeIndex=Math.round(3*Math.random())}return Object(b.a)(e,[{key:"rotate",value:function(){this.shapeIndex++,this.shapeIndex%=4}},{key:"data",get:function(){return this.datas[this.shapeIndex]}},{key:"getAfterOneRotate_Data",value:function(){return this.datas[(this.shapeIndex+1)%4]}}]),e}(),R=function(){function e(){Object(v.a)(this,e),this.shapes={}}return Object(b.a)(e,[{key:"registerShape",value:function(e,t){this.shapes[e]||(this.shapes[e]=t)}},{key:"createShape",value:function(e){if(this.shapes[e])return new A(this.shapes[e])}},{key:"createRandomShape",value:function(){var e=Object.keys(this.shapes),t=e[Math.floor(Math.random()*e.length)];return this.createShape(t)}}],[{key:"instance",get:function(){return e.creator}}]),e}();R.creator=new R;var w=R.instance;w.registerShape("O",[1632,1632,1632,1632]),w.registerShape("I",[17476,3840,17476,3840]),w.registerShape("Z",[3168,9792,3168,9792]),w.registerShape("S",[864,17952,864,17952]),w.registerShape("L",[17504,3712,25120,368]),w.registerShape("J",[8800,2272,25664,1808]),w.registerShape("T",[1248,17984,1824,9760]);var y,_,E=w;(_=y||(y={}))[_.UNSTART=0]="UNSTART",_[_.RUNNING=1]="RUNNING",_[_.PAUSE=2]="PAUSE",_[_.OVER=3]="OVER";n(69);var U=n(108),F=(n(70),n(2)),T=function(e){var t=e.nextShape,n=e.score,r=e.nextShapeColor,i=e.status,c=e.setStatus,s=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=s.current;if(e){e.width=e.clientWidth,e.height=e.clientHeight;var n=e.getContext("2d");if(t){n.clearRect(0,0,e.clientWidth,e.clientHeight);var a=t.data;n.fillStyle="rgb(".concat(Math.round(255*r[0]),", ").concat(Math.round(255*r[1]),", ").concat(Math.round(255*r[2]),")");for(var i=e.clientWidth/4,c=e.clientHeight/4,o=0;o<4;o++)for(var l=0;l<4;l++){0!==(32768&a)&&n.fillRect(i*l,c*o,i,c),a<<=1}}}}),[s,t]);var o=!(i===y.UNSTART||i===y.OVER),l=!o,u=!(i===y.RUNNING);return Object(F.jsxs)("div",{className:"realtimeInfo",children:[Object(F.jsx)("canvas",{className:"preview-canvas",ref:s}),Object(F.jsx)("div",{className:"info",children:Object(F.jsxs)("div",{className:"info-item",children:[Object(F.jsx)("span",{className:"label",children:"score: "}),Object(F.jsx)("span",{className:"value",children:n})]})}),Object(F.jsxs)("div",{className:"buttons",children:[Object(F.jsxs)("div",{className:"status-button",children:[Object(F.jsx)(U.a,{className:"button",disabled:o,variant:"contained",onClick:function(){c(y.RUNNING)},children:i===y.UNSTART?"Start":"Restart"}),Object(F.jsx)(U.a,{className:"button",disabled:l,variant:"contained",onClick:function(){i!==y.RUNNING?i!==y.PAUSE||c(y.RUNNING):c(y.PAUSE)},children:i===y.RUNNING?"Pause":"Continue"})]}),Object(F.jsxs)("div",{className:"operate-button",children:[Object(F.jsxs)("div",{className:"top",children:[Object(F.jsx)(U.a,{className:"button",disabled:u,variant:"contained",onClick:function(){window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowLeft"}))},children:"Left"}),Object(F.jsx)(U.a,{className:"button",disabled:u,variant:"contained",onClick:function(){window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowRight"}))},children:"Right"})]}),Object(F.jsxs)("div",{className:"bottom",children:[Object(F.jsx)(U.a,{className:"button",disabled:u,variant:"contained",onClick:function(){window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowUp"}))},children:"Rotate"}),Object(F.jsx)(U.a,{className:"button",disabled:u,variant:"contained",onClick:function(){window.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},children:"Speed"})]})]})]})]})},C=function(e,t){for(var n="",a=t.y+3;a>=t.y;a--)if(a<0)n+="1111";else if(a>=e.length)for(var r=t.x;r<t.x+4;r++)n+=r<0||r>=o?"1":"0";else for(var i=t.x;i<t.x+4;i++)i>=0&&i<e[a].length?n+=e[a][i]:n+="1";return parseInt(n,2)},k=!1,I=function(e){var t=e.gameStatus,n=e.setGameStatus,r=e.score,i=e.setScore,s=Object(a.useRef)(null),u=Object(a.useState)([]),h=Object(c.a)(u,2),f=h[0],d=h[1],v=Object(a.useState)(),b=Object(c.a)(v,2),j=b[0],m=b[1],O=Object(a.useState)({x:0,y:0}),p=Object(c.a)(O,2),x=p[0],N=p[1],A=Object(a.useState)([1,1,1]),R=Object(c.a)(A,2),w=R[0],_=R[1],U=Object(a.useState)(E.createRandomShape()),I=Object(c.a)(U,2),M=I[0],P=I[1],L=Object(a.useState)([Math.random(),Math.random(),Math.random()]),D=Object(c.a)(L,2),G=D[0],B=D[1],V=Object(a.useState)(1),W=Object(c.a)(V,2),Y=W[0],J=W[1],H=Object(a.useRef)(t),K=function(){var e=E.createRandomShape();P(e);var t=Math.random(),n=Math.random(),a=Math.random();B([t,n,a]);var r=Math.round(6*Math.random());N({x:r,y:l}),m(M),_(G)};return Object(a.useEffect)((function(){if(j){var e=function(e){switch(e.key){case"ArrowDown":N((function(e){return{x:e.x,y:e.y-1}}));break;case"ArrowLeft":N((function(e){return e.y>=l?e:0===(C(f,{x:e.x-1,y:e.y})&j.data)?{x:e.x-1,y:e.y}:e}));break;case"ArrowRight":N((function(e){return e.y>=l?e:0===(C(f,{x:e.x+1,y:e.y})&j.data)?{x:e.x+1,y:e.y}:e}));break;case"ArrowUp":var t=j.getAfterOneRotate_Data();0===(C(f,x)&t)&&j.rotate()}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[j,x]),Object(a.useEffect)((function(){K()}),[]),Object(a.useEffect)((function(){var e=setInterval((function(){t===y.RUNNING&&N((function(e){return{x:e.x,y:e.y-1}}))}),1e3/Y);return function(){clearInterval(e)}}),[Y,t]),Object(a.useEffect)((function(){H.current!==y.OVER&&H.current!==y.UNSTART||t!==y.RUNNING||d(function(){for(var e=[],t=0;t<l;t++){var n=Array(o).fill(0);e.push(n)}return e}()),H.current=t}),[t]),Object(a.useEffect)((function(){var e=s.current;if(e){var t=function(){var t=e.clientWidth,n=e.clientHeight;e.width==t&&e.height==n||(e.width=t,e.height=n)};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[s]),Object(a.useEffect)((function(){var e=s.current;if(e&&(t===y.RUNNING||t===y.UNSTART)){var n=e.getContext("webgl2");S(n)}}),[s,y]),Object(a.useEffect)((function(){g.cellDatas=f}),[f]),Object(a.useEffect)((function(){j&&(g.activeShape=j)}),[j]),Object(a.useEffect)((function(){g.activeCubeColor=w}),[w]),Object(a.useEffect)((function(){if(j){var e=C(f,x);if(j.data&e){var t;if(x.y>16)return void n(y.OVER);K();var a=null===(t=g.activeShape)||void 0===t?void 0:t.data,r=g.activeShapePos,i=function(e,t,n){var a=[];a=JSON.parse(JSON.stringify(e));for(var r=t.y;r<t.y+4;r++)if(r>=0&&r<e.length)for(var i=t.x+3;i>=t.x;i--){if(i>=0&&i<e[r].length){var c=1&n;1===c&&(a[r][i]=c)}n>>=1}else n>>=4;return a}(f,r,a);d(i)}else g.activeShapePos=x}}),[x]),Object(a.useEffect)((function(){if(!k){for(var e=[],t=0;t<f.length;t++){f[t].every((function(e){return 1===e}))&&e.push(t)}if(e.length>0){var n=!1;k=!0;var a=setInterval((function(){for(var t=JSON.parse(JSON.stringify(f)),a=0;a<e.length;a++){t[e[a]]=Array(o).fill(n?1:0)}d(t),n=!n}),200);setTimeout((function(){clearInterval(a);for(var t=JSON.parse(JSON.stringify(f)),n=e.length-1;n>=0;n--){var r=e[n];t.splice(r,1)}for(var c=0;c<e.length;c++)t.push(Array(o).fill(0));i((function(t){return t+10*e.length})),d(t),k=!1}),1e3)}}}),[f]),Object(a.useEffect)((function(){if(r<=100)J(1);else{var e=Math.ceil(r/100);J(Math.min(e,11))}}),[r]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("canvas",{className:"gameCanvas",ref:s}),Object(F.jsx)(T,{status:t,setStatus:n,nextShape:M,score:r,nextShapeColor:G})]})},M=n(109),P=n(107),L=n(46),D=n.n(L),G=n(47),B=n.n(G),V=n(48),W=n.n(V),Y=n(49),J=n.n(Y),H=n(50),K=n.n(H),z=n(51),X=n.n(z),q=(n(76),{min:100,max:500}),Z={min:0,max:360},Q=function(e){var t=e.open,n=e.setOpen,r=Object(a.useState)(200),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(40),u=Object(c.a)(l,2),h=u[0],f=u[1];Object(a.useEffect)((function(){O.distance=s}),[s]),Object(a.useEffect)((function(){O.rotateX=h}),[h]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(D.a,{className:"setting-icon",onClick:function(){return n(!0)}}),Object(F.jsxs)(P.a,{className:"setting-content",anchor:"left",open:t,onClose:function(){return n(!1)},children:[Object(F.jsx)("h3",{children:"SETTING"}),Object(F.jsxs)("div",{className:"setting-distance setting-item",children:[Object(F.jsx)("h4",{className:"setting-title",children:"distance"}),Object(F.jsxs)("div",{className:"setting-operator",children:[Object(F.jsx)("span",{className:"setting-label",children:"near"}),Object(F.jsx)(M.a,{min:q.min,max:q.max,className:"setting-slider",value:s,onChange:function(e,t){o(t)},"aria-labelledby":"continuous-slider"}),Object(F.jsx)("span",{className:"setting-label",children:"far"})]})]}),Object(F.jsxs)("div",{className:"setting-rotate setting-item",children:[Object(F.jsx)("h4",{className:"setting-title",children:"rotate"}),Object(F.jsxs)("div",{className:"setting-operator",children:[Object(F.jsx)("span",{className:"setting-label",children:"0"}),Object(F.jsx)(M.a,{min:Z.min,max:Z.max,className:"setting-slider",value:h,onChange:function(e,t){f(t)},"aria-labelledby":"continuous-slider"}),Object(F.jsx)("span",{className:"setting-label",children:"360"})]})]}),Object(F.jsx)("h3",{children:"CONTROL"}),Object(F.jsxs)("div",{className:"game-control",children:[Object(F.jsxs)("div",{className:"control-item",title:"Rotate the shape by presss 'key_arrow_up'",children:[Object(F.jsx)(B.a,{className:"icon"}),Object(F.jsx)("span",{children:"Rotate"})]}),Object(F.jsxs)("div",{className:"control-item",title:"Speed up the fall by presss 'key_arrow_down'",children:[Object(F.jsx)(W.a,{className:"icon"}),Object(F.jsx)("span",{children:"Speed Up"})]}),Object(F.jsxs)("div",{className:"control-item",title:"Move left the shape by press 'key_arrow_left'",children:[Object(F.jsx)(J.a,{className:"icon"}),Object(F.jsx)("span",{children:"Move Left"})]}),Object(F.jsxs)("div",{className:"control-item",title:"Move right the shape by press 'key_arrow_right'",children:[Object(F.jsx)(K.a,{className:"icon"}),Object(F.jsx)("span",{children:"Move Right"})]}),Object(F.jsxs)("div",{className:"control-item",title:"Switch game status(stop or start) by press 'key_space'",children:[Object(F.jsx)(X.a,{className:"icon"}),Object(F.jsx)("span",{children:"Pause Or Continue"})]})]}),Object(F.jsx)("h3",{children:"ABOUT"}),Object(F.jsxs)("div",{className:"game-info",children:[Object(F.jsxs)("div",{className:"description",children:["The game is written in WebGL. You can download sourcecode ",Object(F.jsx)("a",{href:"https://github.com/pengfeiw/3d-tetris",children:"here"}),". If you have any questions, you can leave a comment on my website."]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("span",{className:"label",children:"Author:"}),Object(F.jsx)("span",{children:"Wang Pengfei"})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("span",{className:"label",children:"Site:"}),Object(F.jsx)("span",{children:Object(F.jsx)("a",{href:"http://www.pengfeixc.com",children:"http://www.pengfeixc.com"})})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("span",{className:"label",children:"MiniCode:"}),Object(F.jsx)("span",{children:Object(F.jsx)("a",{href:"http://mini.pengfeixc.com",children:"http://mini.pengfeixc.com"})})]})]})]})]})},$=n(106),ee=n(53),te=n.n(ee),ne=n(52),ae=n.n(ne),re=(n(78),function(e){var t=e.status,n=e.setStatus,r=Object(a.useState)("START"),i=Object(c.a)(r,2),s=i[0],o=i[1];Object(a.useEffect)((function(){o(function(e){switch(e){case y.UNSTART:return"START";case y.PAUSE:return"PAUSE";case y.RUNNING:return"RUNNING";case y.OVER:return"GAME OVER";default:return""}}(t))}),[t]);return Object(F.jsxs)($.a,{className:t===y.RUNNING?"gameStatus none":"gameStatus",children:[Object(F.jsx)("div",{className:"title",children:s}),Object(F.jsx)("div",{className:"icon",onClick:function(){n(y.RUNNING)},children:t===y.OVER?Object(F.jsx)(ae.a,{}):Object(F.jsx)(te.a,{})})]})}),ie=(n(79),function(){var e=Object(a.useState)(y.UNSTART),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),s=Object(c.a)(i,2),o=s[0],l=s[1],u=Object(a.useState)(!1),h=Object(c.a)(u,2),f=h[0],d=h[1];Object(a.useEffect)((function(){var e=function(e){" "===e.key&&r((function(e){switch(e){case y.UNSTART:case y.OVER:case y.PAUSE:return y.RUNNING;case y.RUNNING:return y.PAUSE;default:throw new Error("unimplement game status: ".concat(e,"."))}}))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(a.useEffect)((function(){n===y.RUNNING&&d(!1)}),[n]);return Object(F.jsxs)("div",{className:"tetris",children:[Object(F.jsx)(I,{gameStatus:n,setGameStatus:r,score:o,setScore:l}),Object(F.jsx)(Q,{open:f,setOpen:function(e){d(e),e&&n===y.RUNNING&&r(y.PAUSE)}}),f?Object(F.jsx)(F.Fragment,{}):Object(F.jsx)(re,{status:n,setStatus:r})]})});i.a.render(Object(F.jsx)(ie,{}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.9d535574.chunk.js.map